<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Neon Run: Corefall</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  background: #0b0b14;
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
}

canvas {
  background: linear-gradient(#1a1a2e, #0b0b14);
  display: block;
  margin: 10px auto;
  border: 2px solid #00f2ff;
}

#ui {
  padding: 10px;
}

button {
  padding: 8px;
  margin: 4px;
  background: #00f2ff;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}

#story {
  max-width: 600px;
  margin: auto;
  font-size: 14px;
  opacity: 0.9;
}
</style>
</head>

<body>

<h2>‚ö° Neon Run: Corefall ‚ö°</h2>

<div id="story">
Neon City is powered by the Core ‚Äî a glowing energy source that keeps the world alive.  
When the Core shattered, its fragments scattered beyond the city walls.  
You are a Runner. You never stop. You collect Core energy and defeat corrupted guardians to restore the city‚Äôs power.
</div>

<canvas id="game" width="360" height="200"></canvas>

<div id="ui">
  <div>üí† Core Energy: <span id="coins">0</span></div>
  <div>üèÉ Distance: <span id="distance">0</span></div>
  <button onclick="jump()">Jump</button>
  <button onclick="buyUpgrade()">Upgrade Speed (50)</button>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let coins = Number(localStorage.getItem("coins")) || 0;
let speed = Number(localStorage.getItem("speed")) || 2;
let distance = Number(localStorage.getItem("distance")) || 0;

let y = 140;
let vy = 0;
let grounded = true;

function saveGame() {
  localStorage.setItem("coins", coins);
  localStorage.setItem("speed", speed);
  localStorage.setItem("distance", distance);
}

function jump() {
  if (grounded) {
    vy = -6;
    grounded = false;
  }
}

function buyUpgrade() {
  if (coins >= 50) {
    coins -= 50;
    speed += 0.5;
  }
}

function update() {
  vy += 0.3;
  y += vy;

  if (y >= 140) {
    y = 140;
    vy = 0;
    grounded = true;
  }

  coins += 0.05;
  distance += speed;

  document.getElementById("coins").innerText = Math.floor(coins);
  document.getElementById("distance").innerText = Math.floor(distance);

  saveGame();
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.fillStyle = "#00f2ff";
  ctx.fillRect(0, 170, 360, 30);

  ctx.fillStyle = "#ff00ff";
  ctx.fillRect(40, y, 15, 15);
}

function loop() {
  update();
  draw();
  requestAnimationFrame(loop);
}

loop();
</script>

</body>
</html>
